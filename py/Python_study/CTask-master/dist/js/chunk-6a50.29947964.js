(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a50"],{"04e1":function(e,t,r){"use strict";var n=r("7afa");function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new o("Invalid token specified");t=t||{};var r=!0===t.header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},"4b4f":function(e,t,r){"use strict";var n=r("cd05"),o=r.n(n);o.a},"7afa":function(e,t,r){var n=r("9b81");function o(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return o(t)}catch(e){return n(t)}}},"9b81":function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}function o(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,a=0,i=0,c="";s=t.charAt(i++);~s&&(o=a%4?64*o+s:s,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)s=r.indexOf(s);return c}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||o},cd05:function(e,t,r){},e49c:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-con"},[r("Card",{attrs:{icon:"log-in",title:"欢迎登录",bordered:!1}},[r("div",{staticClass:"form-con"},[r("Form",{ref:"loginForm",attrs:{model:e.LoginUser,rules:e.rules}},[r("FormItem",{attrs:{prop:"username"}},[r("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.LoginUser.userName,callback:function(t){e.$set(e.LoginUser,"userName",t)},expression:"LoginUser.userName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.LoginUser.password,callback:function(t){e.$set(e.LoginUser,"password",t)},expression:"LoginUser.password"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)])],1)])},o=[],s=(r("ac6a"),r("456d"),r("6bde")),a=(r("7f7f"),r("b1d0")),i=function(e){return a["a"].request({url:"/api/users/login",data:e,method:"post"})},c=r("c276"),l=r("04e1"),u=r.n(l),p={name:"login",data:function(){return{LoginUser:{userName:"yangmv",password:"123456"},rules:{userName:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&i(e.LoginUser).then(function(t){console.log("res---\x3e",t);var r=t.data.token;Object(c["p"])(r);var n=u()(r);console.log(n),Object(c["q"])(n.name),e.$store.dispatch("setAuth",!e.isEmpty(n)),e.$store.dispatch("setUser",n),e.$router.push({name:e.$config.homeName}),e.$Message.success({content:"登陆成功",duration:5})}).catch(function(t){console.log(t.message),e.$Message.error({content:"登录失败（"+t.msg+"）",duration:5})})})},isEmpty:function(e){return void 0===e||null===e||"object"===Object(s["a"])(e)&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}}},d=p,g=(r("4b4f"),r("2877")),f=Object(g["a"])(d,n,o,!1,null,null,null);f.options.__file="login.vue";t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-6a50.29947964.js.map