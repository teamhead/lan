(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0634"],{"0bdf":function(e,t,a){"use strict";var n=a("1d55"),o=a.n(n);o.a},"1d55":function(e,t,a){},"50bb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",[a("div",{staticClass:"search-con search-con-top"},[a("Select",{staticClass:"search-col",model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},e._l(e.columns,function(t){return"task_log"!==t.key?a("Option",{key:"search-col-"+t.key,attrs:{value:t.key}},[e._v(e._s(t.title))]):e._e()})),a("Input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"输入关键字搜索"},on:{"on-change":e.handleClear},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("DatePicker",{staticStyle:{"margin-left":"2px",width:"200px"},attrs:{value:e.dateValue,type:"daterange",placement:"bottom-end",placeholder:"Select date"},on:{"on-change":e.changeDate}}),a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")])],1),a("Table",{ref:"selection",attrs:{size:"small",border:"",columns:e.columns,data:e.tableData}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"left"}},[a("Page",{attrs:{total:e.pageTotal,current:e.getParams.pageNum,"page-size":e.getParams.pageSize,"page-size-opts":[25,50,100],"show-sizer":"","show-total":""},on:{"on-change":e.changePage,"on-page-size-change":e.handlePageSize}})],1)])],1)},o=[],r=a("73ae"),s={data:function(){return{columns:[{title:"job id",key:"task_id",width:180},{title:"状态",key:"status",width:100},{title:"任务指令",key:"cmd",width:400},{title:"日志数据",key:"stdout"},{title:"执行时间",key:"exe_time",width:160}],tableData:[],pageTotal:0,getParams:{pageNum:1,pageSize:25},searchKey:"task_id",searchValue:"",dateValue:[]}},methods:{getCronLogList:function(){var e=this;Object(r["e"])(this.getParams).then(function(t){0===t.data.status?(e.pageTotal=t.data.count,e.tableData=t.data.data):e.$Message.error("".concat(t.data.msg))})},changeDate:function(e){this.dateValue=e},changePage:function(e){this.getParams.pageNum=e,this.getCronLogList()},handlePageSize:function(e){this.getParams.pageSize=e,this.getCronLogList()},handleClear:function(e){""===e.target.value&&(this.tableData=this.value)},handleSearch:function(){this.getCronLogList()}},watch:{value:function(e){this.handleSearch()}},mounted:function(){this.getCronLogList()}},c=s,i=(a("0bdf"),a("2877")),l=Object(i["a"])(c,n,o,!1,null,"558ea92a",null);l.options.__file="Logs.vue";t["default"]=l.exports},"73ae":function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return c}),a.d(t,"e",function(){return i});var n=a("66df"),o=function(e){return n["a"].request({url:"/v1/cron/job/",method:"get",params:e})},r=function(e,t){return n["a"].request({url:"/v1/cron/job/".concat(t),method:"post",data:e})},s=function(e,t){return n["a"].request({url:"/v1/cron/job/".concat(t),method:"post",data:e})},c=function(e){return n["a"].request({url:"/v1/cron/job/remove",method:"delete",data:e})},i=function(e){return n["a"].request({url:"/v1/cron/job/log",method:"get",params:e})}}}]);
//# sourceMappingURL=chunk-0634.9dd941ca.js.map